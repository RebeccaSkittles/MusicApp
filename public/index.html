<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Library</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navbar / Header rah-->
    <header>
        <div class="header-content">
            <div class="app-name">
                <img src="img/logo.png" alt="Logo" class="app-logo">
                Audio Library
            </div>
            <div class="header-right">
                <input type="text" id="searchInput" placeholder="Search..." oninput="handleSearch(event)">
                <div class="profile-container">
                    <div class="profile-icon" onclick="toggleProfileDropdown()">
                        <img src="img/placeholder_profile.jpg" alt="Profile">
                    </div>
                    <div class="profile-dropdown" id="profileDropdown">
                        <div class="dropdown-username">Username</div>
                        <button class="dropdown-upload-btn" onclick="triggerFileInput()">Upload</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- DO NOT REMOVE - note: bug here, need to remove this, without the audio libary not showing-->
    <input type="file" id="real-file" hidden="hidden" accept="audio/*"/>
    
   <!-- Audio Libary - note: need to alter names to make it more clean-->
    <div class="uploaded-files" id="uploadedFiles"></div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Upload Song</h2>
                <button class="close-button" onclick="closeUploadModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="uploadForm" onsubmit="handleUploadSubmit(event)">
                    <div class="form-group">
                        <label for="songFile">Song File (MP3)</label>
                        <input type="file" id="songFile" accept=".mp3" required>
                    </div>
                    <div class="form-group">
                        <label for="coverImage">Cover Image (Optional)</label>
                        <input type="file" id="coverImage" accept="image/*">
                    </div>
                    <div class="form-group">
                        <label for="songName">Song Name</label>
                        <input type="text" id="songName" required>
                    </div>
                    <div class="form-group">
                        <label for="artistName">Artist Name</label>
                        <input type="text" id="artistName" required>
                    </div>
                    <div class="form-group">
                        <label>Upload Date</label>
                        <div id="uploadDate" class="date-display"></div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="cancel" onclick="closeUploadModal()">Cancel</button>
                        <button type="submit" class="upload">Upload</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Player Bar -->
    <div class="player-bar">
        <div class="player-left">
            <div class="player-cover">
                <img src="img/placeholder_song.png" alt="Song Cover" id="playerCover">
            </div>
            <div class="player-info">
                <div class="player-song-name" id="playerSongName">No song selected</div>
                <div class="player-artist" id="playerArtist">Artist</div>
            </div>
        </div>
        
        <div class="player-center">
            <div class="player-controls">
                <button class="control-button" id="shuffleButton">
                    <i class="fas fa-random"></i>
                </button>
                <button class="control-button" id="prevButton">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="control-button play-button" id="mainPlayButton">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-button" id="nextButton">
                    <i class="fas fa-step-forward"></i>
                </button>
                <button class="control-button" id="repeatButton">
                    <i class="fas fa-redo"></i>
                </button>
            </div>
            <div class="player-progress">
                <span class="time" id="currentTime">0:00</span>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                <span class="time" id="duration">0:00</span>
            </div>
        </div>
        
        <div class="player-right">
            <button class="control-button" id="volumeButton">
                <i class="fas fa-volume-up"></i>
            </button>
            <div class="volume-slider">
                <div class="volume-progress" id="volumeProgress"></div>
            </div>
        </div>
    </div>

    <!-- Snackbar Container -->
    <div id="snackbar" class="snackbar">
        <div class="snackbar-content">
            <div class="snackbar-message"></div>
            <div class="snackbar-progress">
                <div class="progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- Scripts - note: scripts will be made local when i feel like it-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
